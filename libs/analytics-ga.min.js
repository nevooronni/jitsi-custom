!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/libs/",n(n.s=897)}({150:function(t,e){var n={trace:0,debug:1,info:2,log:3,warn:4,error:5};s.consoleTransport=console;var r=[s.consoleTransport];function o(){var t=arguments[0],e=arguments[1],o=Array.prototype.slice.call(arguments,2);if(!(n[e]<t.level))for(var s=function(){var t={methodName:"",fileLocation:"",line:null,column:null},e=new Error,n=e.stack?e.stack.split("\n"):[];if(!n||n.length<1)return t;var r=null;return n[3]&&(r=n[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!r||r.length<=4?(0===n[2].indexOf("log@")?t.methodName=n[3].substr(0,n[3].indexOf("@")):t.methodName=n[2].substr(0,n[2].indexOf("@")),t):(t.methodName=r[1],t.fileLocation=r[2],t.line=r[3],t.column=r[4],t)}(),i=r.concat(t.transports),a=0;a<i.length;a++){var u=i[a],c=u[e];c&&"function"==typeof c&&c.bind(u,t.id?"["+t.id+"]":"","<"+s.methodName+">: ").apply(u,o)}}function s(t,e,r,s){this.id=e,this.format=s,this.transports=r,this.transports||(this.transports=[]),this.level=n[t];for(var i=Object.keys(n),a=0;a<i.length;a++)this[i[a]]=o.bind(null,this,i[a])}s.addGlobalTransport=function(t){-1===r.indexOf(t)&&r.push(t)},s.removeGlobalTransport=function(t){var e=r.indexOf(t);-1!==e&&r.splice(e,1)},s.prototype.setLevel=function(t){this.level=n[t]},t.exports=s,s.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},225:function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return i});const r=n(29).getLogger(t);function o(){return window.JitsiMeetJS||(window.JitsiMeetJS={}),window.JitsiMeetJS.app||(window.JitsiMeetJS.app={}),window.JitsiMeetJS.app}function s(t,e){const n=Object(t);for(const t in e)if(e.hasOwnProperty(t)){const r=e[t];void 0!==r&&(n[t]=r)}return n}function i(t,e=""){r.error(e,t),window.onerror&&window.onerror(e,null,null,null,t)}}).call(this,"react/features/base/util/helpers.js")},226:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});const r=n(29).getLogger(t);function o(t){return fetch(t).then(t=>{const e=t.json();return t.ok?e:e.then(t=>Promise.reject(t))}).catch(e=>(r.error("Error performing get:",t,e),Promise.reject(e)))}}).call(this,"react/features/base/util/httpUtils.js")},227:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return g}),n.d(e,"f",function(){return p});const r=n(29).getLogger(t),o="org.jitsi.meet:",s="[\\:\\?#\\[\\]@!$&'()*+,;=></\"]",i="(//[^/?#]+)",a="([^?#]*)",u="^([a-z][a-z0-9\\.\\+-]*:)";function c(t){const e=new RegExp(`${u}+`,"gi"),n=e.exec(t);if(n){let r=n[n.length-1].toLowerCase();"http:"!==r&&"https:"!==r&&(r="https:"),(t=t.substring(e.lastIndex)).startsWith("//")&&(t=r+t)}return t}function l({pathname:t}){const e=t.lastIndexOf("/");return-1===e?"/":t.substring(0,e+1)}function h(t={}){const e=[];for(const n in t)try{e.push(`${n}=${encodeURIComponent(JSON.stringify(t[n]))}`)}catch(t){r.warn(`Error encoding ${n}: ${t}`)}return e}function f(t){const e={toString:d};let n,r,o;if(t=t.replace(/\s/g,""),(r=(n=new RegExp(u,"gi")).exec(t))&&(e.protocol=r[1].toLowerCase(),t=t.substring(n.lastIndex)),r=(n=new RegExp(`^${i}`,"gi")).exec(t)){let o=r[1].substring(2);t=t.substring(n.lastIndex);const s=o.indexOf("@");-1!==s&&(o=o.substring(s+1)),e.host=o;const i=o.lastIndexOf(":");-1!==i&&(e.port=o.substring(i+1),o=o.substring(0,i)),e.hostname=o}if((r=(n=new RegExp(`^${a}`,"gi")).exec(t))&&(o=r[1],t=t.substring(n.lastIndex)),o?o.startsWith("/")||(o=`/${o}`):o="/",e.pathname=o,t.startsWith("?")){let n=t.indexOf("#",1);-1===n&&(n=t.length),e.search=t.substring(0,n),t=t.substring(n)}else e.search="";return e.hash=t.startsWith("#")?t:"",e}function g(t){if("string"!=typeof t)return;const e=f(c(t));e.contextRoot=l(e);const{pathname:n}=e,r=n.lastIndexOf("/");let o=n.substring(r+1)||void 0;if(o){const t=function(t){return t?t.replace(new RegExp(s,"g"),""):t}(o);t!==o&&(o=t,e.pathname=n.substring(0,r+1)+(o||""))}return e.room=o,e}function d(t){const{hash:e,host:n,pathname:r,protocol:o,search:s}=t||this;let i="";return o&&(i+=o),n&&(i+=`//${n}`),i+=r||"/",s&&(i+=s),e&&(i+=e),i}function p(t){let e;switch(typeof t){case"object":t&&(e=t instanceof URL?t.href:function(t){let e;e=t.serverURL&&t.room?new URL(t.room,t.serverURL).toString():t.room?t.room:t.url||"";const n=f(c(e));if(!n.protocol){let e=t.protocol||t.scheme;e&&(e.endsWith(":")||(e+=":"),n.protocol=e)}let{pathname:r}=n;if(!n.host){const e=t.domain||t.host||t.hostname;if(e){const{host:t,hostname:s,pathname:i,port:a}=f(c(`${o}//${e}`));t&&(n.host=t,n.hostname=s,n.port=a),"/"===r&&"/"!==i&&(r=i)}}const s=t.roomName||t.room;!s||!n.pathname.endsWith("/")&&n.pathname.endsWith(`/${s}`)||(r.endsWith("/")||(r+="/"),r+=s);n.pathname=r;const{jwt:i}=t;if(i){let{search:t}=n;-1===t.indexOf("?jwt=")&&-1===t.indexOf("&jwt=")&&(t.startsWith("?")||(t=`?${t}`),1===t.length||(t+="&"),t+=`jwt=${i}`,n.search=t)}let{hash:a}=n;for(const e of["config","interfaceConfig","devices"]){const n=h(t[`${e}Overwrite`]||t[e]||t[`${e}Override`]);if(n.length){let t=`${e}.${n.join(`&${e}.`)}`;a.length?t=`&${t}`:a="#",a+=t}}return n.hash=a,n.toString()||void 0}(t));break;case"string":e=String(t)}return e}}).call(this,"react/features/base/util/uri.js")},231:function(t,e,n){var r=n(150);function o(t,e){this.logStorage=t,this.stringifyObjects=!(!e||!e.stringifyObjects)&&e.stringifyObjects,this.storeInterval=e&&e.storeInterval?e.storeInterval:3e4,this.maxEntryLength=e&&e.maxEntryLength?e.maxEntryLength:1e4,Object.keys(r.levels).forEach(function(t){this[r.levels[t]]=function(t){this._log.apply(this,arguments)}.bind(this,t)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}o.prototype.stringify=function(t){try{return JSON.stringify(t)}catch(t){return"[object with circular refs?]"}},o.prototype.formatLogMessage=function(t){for(var e="",n=1,o=arguments.length;n<o;n++){var s=arguments[n];!this.stringifyObjects&&t!==r.levels.ERROR||"object"!=typeof s||(s=this.stringify(s)),e+=s,n!=o-1&&(e+=" ")}return e.length?e:null},o.prototype._log=function(){var t=this.formatLogMessage.apply(this,arguments);if(t){var e=this.queue.length?this.queue[this.queue.length-1]:void 0;("object"==typeof e?e.text:e)==t?"object"==typeof e?e.count+=1:this.queue[this.queue.length-1]={text:t,count:2}:(this.queue.push(t),this.totalLen+=t.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},o.prototype.start=function(){this._reschedulePublishInterval()},o.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},o.prototype.flush=function(){this._flush(!1,!0)},o.prototype._flush=function(t,e){this.totalLen>0&&(this.logStorage.isReady()||t)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(t){this.logStorage.storeLogs(t)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),e&&this._reschedulePublishInterval()},o.prototype.stop=function(){this._flush(!1,!1)},t.exports=o},29:function(t,e,n){var r=n(150),o=n(231),s={},i=[],a=r.levels.TRACE;t.exports={addGlobalTransport:function(t){r.addGlobalTransport(t)},removeGlobalTransport:function(t){r.removeGlobalTransport(t)},getLogger:function(t,e,n){var o=new r(a,t,e,n);return t?(s[t]=s[t]||[],s[t].push(o)):i.push(o),o},setLogLevelById:function(t,e){for(var n=e?s[e]||[]:i,r=0;r<n.length;r++)n[r].setLevel(t)},setLogLevel:function(t){a=t;for(var e=0;e<i.length;e++)i[e].setLevel(t);for(var n in s){var r=s[n]||[];for(e=0;e<r.length;e++)r[e].setLevel(t)}},levels:r.levels,LogCollector:o}},36:function(t,e,n){"use strict";var r=n(225),o=n(226);function s(t){return new Promise((e,n)=>JitsiMeetJS.util.ScriptUtil.loadScript(t,!0,!1,!1,e,n))}var i=n(227);n.d(e,"e",function(){return r.b}),n.d(e,"c",function(){return r.a}),n.d(e,"j",function(){return r.c}),n.d(e,"d",function(){return o.a}),n.d(e,"g",function(){return s}),n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"f",function(){return i.c}),n.d(e,"h",function(){return i.d}),n.d(e,"i",function(){return i.e}),n.d(e,"k",function(){return i.f})},491:function(t,e,n){"use strict";n.d(e,"a",function(){return r});class r{constructor(){this._enabled=!1,this._ignoredEvents=["e2e_rtt","rtp.stats","rtt.by.region","available.device","stream.switch.delay","ice.state.changed","ice.duration"]}_extractName(t){if("page"===t.type)return t.name;const{action:e,actionSubject:n,source:r}=t;let o=e;return n&&n!==e&&(o=`${n}.${e}`),r&&r!==e&&(o=`${r}.${o}`),o}_shouldIgnore(t){return!t||!this._enabled||-1!==this._ignoredEvents.indexOf(t.action)}}},897:function(t,e,n){"use strict";n.r(e);var r=n(36),o=n(491);const s=Object(r.e)();s.analyticsHandlers=s.analyticsHandlers||[],s.analyticsHandlers.push(class extends o.a{constructor(t){if(super(),this._userProperties={},!t.googleAnalyticsTrackingId)throw new Error("Failed to initialize Google Analytics handler, no tracking ID");this._enabled=!0,this._initGoogleAnalytics(t)}_initGoogleAnalytics(t){var e,n,r,o,s,i;e=window,n=document,r="script",o="ga",e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,s=n.createElement(r),i=n.getElementsByTagName(r)[0],s.async=1,s.src="//www.google-analytics.com/analytics.js",i.parentNode.insertBefore(s,i),ga("create",t.googleAnalyticsTrackingId,"auto"),ga("send","pageview")}_extractValue(t){let e=t&&t.attributes&&t.attributes.value;return e=Math.round(parseFloat(e))}_extractLabel(t){const{attributes:e={}}=t,n=Object.keys(e).map(t=>`${t}=${e[t]}`);return n.push(this._userPropertiesString),n.join("&")}setUserProperties(t={}){if(!this._enabled)return;const e=["user_agent","callstats_name"];this._userPropertiesString=Object.keys(t).filter(t=>-1===e.indexOf(t)).map(e=>`permanent_${e}=${t[e]}`).join("&")}sendEvent(t){if(this._shouldIgnore(t))return;const e={eventCategory:"jitsi-meet",eventAction:this._extractName(t),eventLabel:this._extractLabel(t)},n=this._extractValue(t);isNaN(n)||(e.eventValue=n),ga("send","event",e)}})}});
//# sourceMappingURL=analytics-ga.min.map